<html>
<head>
  <title>Trails &mdash; Just routing.</title>
</head>
<body>
<h1 id="title">Trails</h1>
<p id="body">Just routing.</p>

<ul>
  <li><a href="#!/">Home</a></li>
  <li><a href="#!/say/hello">Say hello!</a></li>
  <li><a href="#!/trails/Just routing.">Trails</a></li>
</ul>


<script src="/trails.js"></script>
<script>
var router = new Trails;

router.before(function () {
  console.log('I run before!');
});

router.after(function () {
  console.log('I run after!')
});

router.route('/', function (path) {
  setText(path.route,'Hello World!');
});

router.route('/say/:message', function (path) {
  setText(path.route, path.params.message);
});

router.route('/:name/says/:message', function (path) {
  setText(path.params.name + ' says,', path.params.message);
});

router.route('/trails/*', function (path) {
  setText('Trails', path.params.splat)
})

function setText(titleText, bodyText) {
  var title = document.getElementById('title')
  var body = document.getElementById('body');
  title.innerText = titleText;
  body.innerText = bodyText;
}

</script>
</body>
</html>
